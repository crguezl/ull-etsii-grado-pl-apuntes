<tex2html_file>#./chapter_bottomup/yaccexamples.tex#
\section<<20483>>Introducción a <<20210>>\begin<<20640>>tex2html_deferred<<20640>>\tt\end<<20641>>tex2html_deferred<<20641>>yacc<<20210>><<20483>>
\label<<20211>>section:introyacc<<20211>>
Los fuentes de esta sección pueden encontrarse en
\htmladdnormallink<<20212>>https://github.com/crguezl/yacc-examples<<20212>><<20213>>https://github.com/crguezl/yacc-examples<<20213>>.
\begin<<20642>>tex2html_deferred<<20642>>\par\end<<20643>>tex2html_deferred<<20643>>
Veamos un ejemplo sencillo de analizador sintáctico escrito en  <<20545>>\begin<<20644>>tex2html_deferred<<20644>>\tt\end<<20645>>tex2html_deferred<<20645>>yacc<<20545>> .
La gramática se especifica entre las dos líneas de <tex2html_verb_mark>2862<tex2html_verb_mark>. 
Por defecto, el símbolo de arranque es el primero que aparece, en este caso
<tex2html_verb_mark>2863<tex2html_verb_mark>. En <tex2html_verb_mark>2864<tex2html_verb_mark> es posible hacer que otro variable lo sea
utilizando la declaración <tex2html_verb_mark>2866<tex2html_verb_mark>:
\begin<<20646>>tex2html_deferred<<20646>>\par\end<<20647>>tex2html_deferred<<20647>>
 
  \paragraph<<20546>>Ejemplo: La Calculadora en <<20550>>\begin<<20648>>tex2html_deferred<<20648>>\tt\end<<20649>>tex2html_deferred<<20649>>yacc<<20550>><<20546>>
  \begin<<20547>>tabular<<20547>><<20548>>c<<20548>>
  \end<<20549>>tabular<<20549>>

\begin<<20650>>tex2html_deferred<<20650>>\par\end<<20651>>tex2html_deferred<<20651>>
\begin<<20487>>theorem_type<<20487>>[program][program][section][][][]
Calculadora elemental. Análizador sintáctico.
\label<<20217>>prog:calc1<<20217>>
\begin<<20218>>tex2html_preform<<20218>><tex2html_verbatim_mark>verbatim6322#\end<<20219>>tex2html_preform<<20219>>\end<<20488>>theorem_type<<20488>>
La macro  <<20551>>\begin<<20652>>tex2html_deferred<<20652>>\tt\end<<20653>>tex2html_deferred<<20653>>YYSTYPE<<20551>>  (línea 3) contiene el tipo del valor semántico.
Si no se declara se asume <tex2html_verb_mark>2867<tex2html_verb_mark>.
\begin<<20654>>tex2html_deferred<<20654>>\par\end<<20655>>tex2html_deferred<<20655>>
El fichero  <<20552>>\begin<<20656>>tex2html_deferred<<20656>>\tt\end<<20657>>tex2html_deferred<<20657>>yyin<<20552>>  (líneas 26 y 29) es definido en el 
fichero conteniendo el analizador léxico 
 <<20553>>\begin<<20658>>tex2html_deferred<<20658>>\tt\end<<20659>>tex2html_deferred<<20659>>lex.yy.c<<20553>> . Refiere al fichero de entrada conteniendo
el texto a analizar.
\begin<<20660>>tex2html_deferred<<20660>>\par\end<<20661>>tex2html_deferred<<20661>>
Al poner la variable  <<20554>>\begin<<20662>>tex2html_deferred<<20662>>\tt\end<<20663>>tex2html_deferred<<20663>>yydebug<<20554>>  a 1 activamos el modo depuración.
Para que la depuración se haga efectiva es necesario definir además
la macro  <<20555>>\begin<<20664>>tex2html_deferred<<20664>>\tt\end<<20665>>tex2html_deferred<<20665>>YYDEBUG<<20555>> .
\begin<<20666>>tex2html_deferred<<20666>>\par\end<<20667>>tex2html_deferred<<20667>>
El analizador sintáctico proveido por <tex2html_verb_mark>2868<tex2html_verb_mark> se llama  <<20556>>\begin<<20668>>tex2html_deferred<<20668>>\tt\end<<20669>>tex2html_deferred<<20669>>yyparse<<20556>>  
(línea 31). Por defecto su declaración es <tex2html_verb_mark>2869<tex2html_verb_mark>
\begin<<20670>>tex2html_deferred<<20670>>\par\end<<20671>>tex2html_deferred<<20671>>
 
  \paragraph<<20557>>El Analizador Léxico<<20557>>
  \begin<<20558>>tabular<<20558>><<20559>>c<<20559>>
  \end<<20560>>tabular<<20560>>

\begin<<20672>>tex2html_deferred<<20672>>\par\end<<20673>>tex2html_deferred<<20673>>
\begin<<20489>>theorem_type<<20489>>[program][program][section][][][]
\label<<20229>>program:hoc1l<<20229>>
Calculadora elemental.  Analizador léxico:
\begin<<20230>>tex2html_preform<<20230>><tex2html_verbatim_mark>verbatim6323#\end<<20231>>tex2html_preform<<20231>>\end<<20490>>theorem_type<<20490>>
\begin<<20674>>tex2html_deferred<<20674>>\par\end<<20675>>tex2html_deferred<<20675>>
 
  \paragraph<<20561>>Compilación<<20561>>
  \begin<<20562>>tabular<<20562>><<20563>>c<<20563>>
  \end<<20564>>tabular<<20564>>

\begin<<20676>>tex2html_deferred<<20676>>\par\end<<20677>>tex2html_deferred<<20677>>
Al compilar el program <tex2html_verb_mark>2870<tex2html_verb_mark> con la opción <tex2html_verb_mark>2871<tex2html_verb_mark>
se produce además del fichero  <<20565>>\begin<<20678>>tex2html_deferred<<20678>>\tt\end<<20679>>tex2html_deferred<<20679>>y.tab.c<<20565>>  conteniendo el
analizador sintáctico un fichero adicional de cabecera  <<20566>>\begin<<20680>>tex2html_deferred<<20680>>\tt\end<<20681>>tex2html_deferred<<20681>>y.tab.h<<20566>> 
conteniendo
las definiciones de los terminales:
\begin<<20236>>tex2html_preform<<20236>><tex2html_verbatim_mark>verbatim6324#\end<<20237>>tex2html_preform<<20237>>
La variable  <<20567>>\begin<<20682>>tex2html_deferred<<20682>>\tt\end<<20683>>tex2html_deferred<<20683>>yylval<<20567>>  (líneas 3 y 7 del listado \ref<<20239>>program:hoc1l<<20239>>) 
es declarada por el
analizador sintáctico y usada por el analizador 
léxico. El analizador léxico deja en la misma el valor semántico
asociado con el token actual.
\begin<<20684>>tex2html_deferred<<20684>>\par\end<<20685>>tex2html_deferred<<20685>>
 
  \paragraph<<20568>>Makefile<<20568>>
  \begin<<20569>>tabular<<20569>><<20570>>c<<20570>>
  \end<<20571>>tabular<<20571>>

\begin<<20686>>tex2html_deferred<<20686>>\par\end<<20687>>tex2html_deferred<<20687>>
Para compilar todo el proyecto usaremos el siguiente
fichero Makefile:
\begin<<20491>>theorem_type<<20491>>[program][program][section][][][]
Calculadora elemental.  Makefile:
\begin<<20242>>tex2html_preform<<20242>><tex2html_verbatim_mark>verbatim6325#\end<<20243>>tex2html_preform<<20243>>\end<<20492>>theorem_type<<20492>>
\begin<<20688>>tex2html_deferred<<20688>>\par\end<<20689>>tex2html_deferred<<20689>>
 
  \paragraph<<20572>>Ejecución<<20572>>
  \begin<<20573>>tabular<<20573>><<20574>>c<<20574>>
  \end<<20575>>tabular<<20575>>

\begin<<20690>>tex2html_deferred<<20690>>\par\end<<20691>>tex2html_deferred<<20691>>
\begin<<20493>>theorem_type<<20493>>[execution][execution][section][][][]
Para saber que esta haciendo el analizador, insertamos una
asignación: <tex2html_verb_mark>2872<tex2html_verb_mark> justo antes de la llamada a
<tex2html_verb_mark>2873<tex2html_verb_mark> y ejecutamos el programa resultante:
\begin<<20247>>tex2html_preform<<20247>><tex2html_verbatim_mark>verbatim6326#\end<<20248>>tex2html_preform<<20248>>
Introducimos la expresión <tex2html_verb_mark>2874<tex2html_verb_mark>. Antes que incluso ocurra la entrada, el algoritmo LR reduce por la regla \begin<<20576>>tex2html_wrap_inline<<20576>>$List \rightarrow \epsilon$\end<<20577>>tex2html_wrap_inline<<20577>>.
\begin<<20249>>tex2html_preform<<20249>><tex2html_verbatim_mark>verbatim6327#\end<<20250>>tex2html_preform<<20250>>
Observe como la declaración de la asociatividad a izquierdas <tex2html_verb_mark>2876<tex2html_verb_mark> se traduce en la reducción por la regla 5.
\begin<<20692>>tex2html_deferred<<20692>>\par\end<<20693>>tex2html_deferred<<20693>>
\begin<<20251>>tex2html_preform<<20251>><tex2html_verbatim_mark>verbatim6328#\end<<20252>>tex2html_preform<<20252>>
La reducción por la regla \begin<<20578>>tex2html_wrap_inline<<20578>>$list \rightarrow list\ expr$\end<<20579>>tex2html_wrap_inline<<20579>>\space produce la ejecución
del <tex2html_verb_mark>2878<tex2html_verb_mark> asociado con la regla y la salida
del valor <tex2html_verb_mark>2879<tex2html_verb_mark> que constituye el atributo de \begin<<20580>>tex2html_wrap_inline<<20580>>$expr$\end<<20581>>tex2html_wrap_inline<<20581>>.
\begin<<20253>>tex2html_preform<<20253>><tex2html_verbatim_mark>verbatim6329#\end<<20254>>tex2html_preform<<20254>>
En Unix la combinación de teclas CTRL-D nos permite
generar el final de fichero.
\begin<<20694>>tex2html_deferred<<20694>>\par\end<<20695>>tex2html_deferred<<20695>>\end<<20494>>theorem_type<<20494>>
\begin<<20696>>tex2html_deferred<<20696>>\par\end<<20697>>tex2html_deferred<<20697>>
\section<<20256>>Precedencia y Asociatividad<<20256>>
\label<<20257>>section:precandascoyacc<<20257>>
En caso de que no existan indicaciones específicas \emph<<20258>>yacc<<20258>> resuelve
los conflictos que aparecen en la construcción de la tabla utilizando las siguientes reglas:
\begin<<20259>>enumerate<<20259>>
\item
Un conflicto \emph<<20260>>reduce-reduce<<20260>> se resuelve eligiendo la producción que se listó primero en la especificación de la gramática.
\item
Un conflicto \emph<<20261>>shift-reduce<<20261>> se resuelve siempre en favor del \emph<<20262>>shift<<20262>>
\end<<20263>>enumerate<<20263>>
La precedencia se utiliza para modificar estos criterios. Para 
ello se define:
\begin<<20698>>tex2html_deferred<<20698>>\par\end<<20699>>tex2html_deferred<<20699>>
\begin<<20264>>enumerate<<20264>>
\item
La precedencia de los \emph<<20265>>tokens<<20265>> es determinada según el orden de 
declaración. La declaración de \emph<<20266>>tokens<<20266>> mediante la palabra reservada <tex2html_verb_mark>2880<tex2html_verb_mark> no modifica la precedencia. Si lo hacen las declaraciones realizadas usando las palabras <tex2html_verb_mark>2881<tex2html_verb_mark>, <tex2html_verb_mark>2882<tex2html_verb_mark> y <tex2html_verb_mark>2883<tex2html_verb_mark>. Los \emph<<20267>>tokens<<20267>> declarados  en la misma línea
tienen igual precedencia. La precedencia es mayor cuanto mas abajo en
el texto. Así, en el ejemplo que sigue, el \emph<<20268>>token<<20268>> <tex2html_verb_mark>2884<tex2html_verb_mark> tiene 
mayor precedencia que <tex2html_verb_mark>2885<tex2html_verb_mark> pero la misma que <tex2html_verb_mark>2886<tex2html_verb_mark>.
\item
La precedencia de una regla \begin<<20582>>tex2html_wrap_inline<<20582>>$A \rightarrow \alpha$\end<<20583>>tex2html_wrap_inline<<20583>>\space se
define como la del terminal mas a la derecha que aparece en
\begin<<20584>>tex2html_wrap_inline<<20584>>$\alpha$\end<<20585>>tex2html_wrap_inline<<20585>>. En el ejemplo, la producción 
\begin<<20700>>tex2html_deferred<<20700>>\par\end<<20701>>tex2html_deferred<<20701>>
\begin<<20269>>center<<20269>>
<tex2html_verb_mark>2887<tex2html_verb_mark> 
\end<<20270>>center<<20270>>
\begin<<20702>>tex2html_deferred<<20702>>\par\end<<20703>>tex2html_deferred<<20703>>
tiene la precedencia del \emph<<20271>>token<<20271>> <tex2html_verb_mark>2888<tex2html_verb_mark>.
\item
Para decidir en un conflicto \emph<<20272>>shift-reduce<<20272>> se comparan la precedencia 
de la regla con la del terminal que va a ser desplazado. Si la de la regla es mayor se reduce
si la del \emph<<20273>>token<<20273>> es mayor, se desplaza.
\item
Si en un conflicto \emph<<20274>>shift-reduce<<20274>> ambos la regla y el terminal que va a ser desplazado
tiene la misma precedencia \emph<<20275>>yacc<<20275>> considera la asociatividad, si es asociativa a izquierdas,
reduce y si es asociativa a derechas desplaza. Si no es asociativa, genera un mensaje de error.\\ 
Obsérvese que, en esta situación, la asociatividad de la regla y la del \emph<<20276>>token<<20276>> han de ser por fuerza, las mismas. 
Ello es así, porque en \emph<<20277>>yacc<<20277>> los \emph<<20278>>tokens<<20278>> con la misma 
precedencia se declaran en la misma línea. 
\begin<<20704>>tex2html_deferred<<20704>>\par\end<<20705>>tex2html_deferred<<20705>>
\emph<<20485>> Por tanto es imposible declarar dos \emph<<20279>>tokens<<20279>> con diferente asociatividad y la misma precedencia<<20485>>.
\item
Es posible modificar la precedencia ``natural'' de una regla, calificándola con un \emph<<20280>>token<<20280>> específico.
para ello se escribe a la derecha de la regla <tex2html_verb_mark>2889<tex2html_verb_mark>, donde <tex2html_verb_mark>2890<tex2html_verb_mark> es un \emph<<20281>>token<<20281>>
con la precedencia que deseamos. Vea el uso del \emph<<20282>>token<<20282>> <tex2html_verb_mark>2891<tex2html_verb_mark> en el siguiente ejercicio.
\end<<20283>>enumerate<<20283>>
\begin<<20706>>tex2html_deferred<<20706>>\par\end<<20707>>tex2html_deferred<<20707>>
\begin<<20495>>theorem_type<<20495>>[program][program][section][][][]
Este programa muestra el manejo de las reglas de precedencia.
\label<<20285>>prog:prec<<20285>>
\begin<<20286>>tex2html_preform<<20286>><tex2html_verbatim_mark>verbatim6330#\end<<20287>>tex2html_preform<<20287>>            \end<<20496>>theorem_type<<20496>>
\begin<<20708>>tex2html_deferred<<20708>>\par\end<<20709>>tex2html_deferred<<20709>>
\begin<<20497>>theorem_type<<20497>>[exercise][exercise][section][][][]
Dado el programa <tex2html_verb_mark>2892<tex2html_verb_mark> \ref<<20290>>prog:prec<<20290>>
Responda a las siguientes cuestiones:
\begin<<20291>>enumerate<<20291>>
\item
Construya las tablas SLR de acciones y \emph<<20292>>gotos<<20292>>.
\item
Determine el árbol construido para las frases:
<tex2html_verb_mark>2893<tex2html_verb_mark>, <tex2html_verb_mark>2894<tex2html_verb_mark>, <tex2html_verb_mark>2895<tex2html_verb_mark>, <tex2html_verb_mark>2896<tex2html_verb_mark>.
\item
¿Cuál es la asociatividad final de la regla <tex2html_verb_mark>2897<tex2html_verb_mark>?
\end<<20293>>enumerate<<20293>>\end<<20498>>theorem_type<<20498>>
\begin<<20710>>tex2html_deferred<<20710>>\par\end<<20711>>tex2html_deferred<<20711>>
\begin<<20499>>theorem_type<<20499>>[listing][listing][section][][][]
Fichero \emph<<20296>>y.output<<20296>>:\\ 
\begin<<20297>>tex2html_preform<<20297>><tex2html_verbatim_mark>verbatim6331#\end<<20298>>tex2html_preform<<20298>>
\begin<<20712>>tex2html_deferred<<20712>>\par\end<<20713>>tex2html_deferred<<20713>>
\begin<<20299>>tabular<<20299>><<20486>>|p<<20300>>6cm<<20300>>|p<<20301>>6cm<<20301>>|<<20486>>
\hline
\begin<<20302>>tex2html_preform<<20302>><tex2html_verbatim_mark>verbatim6332#\end<<20303>>tex2html_preform<<20303>>
;SPMamp;
\begin<<20304>>tex2html_preform<<20304>><tex2html_verbatim_mark>verbatim6333#\end<<20305>>tex2html_preform<<20305>>\\ 
\hline
\end<<20306>>tabular<<20306>>
\begin<<20714>>tex2html_deferred<<20714>>\par\end<<20715>>tex2html_deferred<<20715>>
\begin<<20307>>tex2html_preform<<20307>><tex2html_verbatim_mark>verbatim6334#\end<<20308>>tex2html_preform<<20308>>\end<<20500>>theorem_type<<20500>>
\begin<<20716>>tex2html_deferred<<20716>>\par\end<<20717>>tex2html_deferred<<20717>>
\begin<<20501>>theorem_type<<20501>>[example][example][section][][][]
Contrasta tu respuesta con la traza seguida por el programa anterior
ante la entrada <tex2html_verb_mark>2898<tex2html_verb_mark>, al establecer la variable <tex2html_verb_mark>2899<tex2html_verb_mark>
y definir la macro <tex2html_verb_mark>2900<tex2html_verb_mark>:
\begin<<20503>>theorem_type<<20503>>[execution][execution][section][][][]
\begin<<20312>>tex2html_preform<<20312>><tex2html_verbatim_mark>verbatim6335#\end<<20313>>tex2html_preform<<20313>>\end<<20504>>theorem_type<<20504>>
¿Por  que se desplaza? ¿No va eso en contra de la declaración 
<tex2html_verb_mark>2902<tex2html_verb_mark>?.  ¿O quizá es porque la precedencia de <tex2html_verb_mark>2903<tex2html_verb_mark>
es menor que la de <tex2html_verb_mark>2904<tex2html_verb_mark>? La respuesta es que la precedencia
asignada por la declaración 
\begin<<20315>>center<<20315>>
<tex2html_verb_mark>2906<tex2html_verb_mark>
\end<<20316>>center<<20316>>
cambio la asociatividad de la regla. Ahora la regla se
``enfrenta'' a un \emph<<20317>>token<<20317>>, <tex2html_verb_mark>2907<tex2html_verb_mark> con su misma precedencia.
Al pasar a ser asociativa a derechas (debido a que
<tex2html_verb_mark>2908<tex2html_verb_mark> lo es), se debe desplazar y no reducir.\end<<20502>>theorem_type<<20502>>
\begin<<20718>>tex2html_deferred<<20718>>\par\end<<20719>>tex2html_deferred<<20719>>
\begin<<20505>>theorem_type<<20505>>[example][example][section][][][]
Otra ejecución, esta vez con entrada <tex2html_verb_mark>2909<tex2html_verb_mark>. Compara tus predicciones con los resultados. 
\begin<<20720>>tex2html_deferred<<20720>>\par\end<<20721>>tex2html_deferred<<20721>>
\begin<<20507>>theorem_type<<20507>>[execution][execution][section][][][]
\begin<<20321>>tex2html_preform<<20321>><tex2html_verbatim_mark>verbatim6336#\end<<20322>>tex2html_preform<<20322>>\end<<20508>>theorem_type<<20508>>
En este caso se comparan la producción :
\begin<<20324>>center<<20324>>
<tex2html_verb_mark>2910<tex2html_verb_mark> \begin<<20586>>tex2html_wrap_inline<<20586>>$\rightarrow$\end<<20587>>tex2html_wrap_inline<<20587>>\space <tex2html_verb_mark>2911<tex2html_verb_mark> 
\end<<20325>>center<<20325>>
con el \emph<<20326>>token<<20326>> <tex2html_verb_mark>2912<tex2html_verb_mark>. La regla tiene mayor  precedencia
que el \emph<<20327>>token<<20327>>,dado que la precedencia de la regla es la de 
<tex2html_verb_mark>2913<tex2html_verb_mark>. \end<<20506>>theorem_type<<20506>>
\begin<<20722>>tex2html_deferred<<20722>>\par\end<<20723>>tex2html_deferred<<20723>>
\section<<20329>>Uso de union y type<<20329>>
\label<<20330>>section:union<<20330>>
En general, los atributos asociados con las diferentes variables sintácticas y terminales tendrán tipos de datos distintos. Para ello, <tex2html_verb_mark>2914<tex2html_verb_mark> provee
la declaración <tex2html_verb_mark>2916<tex2html_verb_mark>.
\begin<<20724>>tex2html_deferred<<20724>>\par\end<<20725>>tex2html_deferred<<20725>>
La declaración <tex2html_verb_mark>2918<tex2html_verb_mark> especifica la colección de posibles tipos de datos de <tex2html_verb_mark>2919<tex2html_verb_mark> y de los atributos <tex2html_verb_mark>2920<tex2html_verb_mark>, <tex2html_verb_mark>2921<tex2html_verb_mark>, \ldots 
\begin<<20726>>tex2html_deferred<<20726>>\par\end<<20727>>tex2html_deferred<<20727>>
He aqui un ejemplo:
\begin<<20728>>tex2html_deferred<<20728>>\par\end<<20729>>tex2html_deferred<<20729>>
\begin<<20331>>tex2html_preform<<20331>><tex2html_verbatim_mark>verbatim6337#\end<<20332>>tex2html_preform<<20332>>
Esto dice que los dos tipos de alternativas son <tex2html_verb_mark>2922<tex2html_verb_mark> y <tex2html_verb_mark>2923<tex2html_verb_mark>. Se les han dado los nombres <tex2html_verb_mark>2924<tex2html_verb_mark> y <tex2html_verb_mark>2925<tex2html_verb_mark>.
\begin<<20333>>tex2html_preform<<20333>><tex2html_verbatim_mark>verbatim6338#\end<<20334>>tex2html_preform<<20334>>
\begin<<20730>>tex2html_deferred<<20730>>\par\end<<20731>>tex2html_deferred<<20731>>
Estos nombres <tex2html_verb_mark>2926<tex2html_verb_mark> e <tex2html_verb_mark>2927<tex2html_verb_mark> se utilizan en las declaraciones de <tex2html_verb_mark>2929<tex2html_verb_mark> y <tex2html_verb_mark>2930<tex2html_verb_mark> para definir el tipo del correspondiente atributo asociado.
\begin<<20732>>tex2html_deferred<<20732>>\par\end<<20733>>tex2html_deferred<<20733>>
Dentro de las acciones, se puede especificar el tipo de un símbolo insertando <tex2html_verb_mark>2931<tex2html_verb_mark> despues del <tex2html_verb_mark>2932<tex2html_verb_mark> que referencia al atributo. En el ejemplo anterior podríamos escribir <tex2html_verb_mark>2933<tex2html_verb_mark> para indicar que manipulamos el atributo
del primer símbolo de la parte derecha de la regla como si fuera un <tex2html_verb_mark>2934<tex2html_verb_mark>.
\begin<<20734>>tex2html_deferred<<20734>>\par\end<<20735>>tex2html_deferred<<20735>>
La información que provee la declaración <tex2html_verb_mark>2936<tex2html_verb_mark> es utilizada por  <tex2html_verb_mark>2937<tex2html_verb_mark>
para realizar la sustitución de las referencias textuales/formales
(<tex2html_verb_mark>2938<tex2html_verb_mark>, <tex2html_verb_mark>2939<tex2html_verb_mark>, \ldots <tex2html_verb_mark>2940<tex2html_verb_mark>\begin<<20588>>tex2html_wrap_inline<<20588>>$|\alpha|$\end<<20589>>tex2html_wrap_inline<<20589>>) a los  atributos de
los símbolos que conforman la regla (que pueden verse como parámetros
formales de las acciones) por las referencias a las zonas de memoria
en las que se guardan (que están asociadas con los correspondientes
estados de la pila) cuando tiene lugar la reducción en el algoritmo de
análisis LR:
\begin<<20736>>tex2html_deferred<<20736>>\par\end<<20737>>tex2html_deferred<<20737>>
\begin<<20335>>flushleft<<20335>>
    <tex2html_verb_mark>2941<tex2html_verb_mark>\begin<<20590>>tex2html_wrap_inline<<20590>>$\rightarrow \alpha$\end<<20591>>tex2html_wrap_inline<<20591>><tex2html_verb_mark>2942<tex2html_verb_mark>
\\ * <tex2html_verb_mark>2943<tex2html_verb_mark>\begin<<20592>>tex2html_wrap_inline<<20592>>$\rightarrow \alpha$\end<<20593>>tex2html_wrap_inline<<20593>><tex2html_verb_mark>2944<tex2html_verb_mark>\begin<<20594>>tex2html_wrap_inline<<20594>>$|\alpha|$\end<<20595>>tex2html_wrap_inline<<20595>><tex2html_verb_mark>2945<tex2html_verb_mark>\begin<<20596>>tex2html_wrap_inline<<20596>>$\cdots$\end<<20597>>tex2html_wrap_inline<<20597>><tex2html_verb_mark>2946<tex2html_verb_mark> 
\\ * <tex2html_verb_mark>2947<tex2html_verb_mark>\begin<<20598>>tex2html_wrap_inline<<20598>>$|\alpha|$\end<<20599>>tex2html_wrap_inline<<20599>><tex2html_verb_mark>2948<tex2html_verb_mark> 
\\ * <tex2html_verb_mark>2949<tex2html_verb_mark> 
\\ * <tex2html_verb_mark>2950<tex2html_verb_mark>
\end<<20336>>flushleft<<20336>>
\begin<<20738>>tex2html_deferred<<20738>>\par\end<<20739>>tex2html_deferred<<20739>>
Asi, <tex2html_verb_mark>2951<tex2html_verb_mark> es capaz de insertar 
el código de ahormado de tipos correcto.
Ello puede hacerse porque se conocen los tipos 
asociados con los símbolos en la parte derecha de 
una regla, ya que han sido proveídos en  
las declaraciones <tex2html_verb_mark>2953<tex2html_verb_mark>, <tex2html_verb_mark>2954<tex2html_verb_mark> y <tex2html_verb_mark>2955<tex2html_verb_mark>.
\begin<<20740>>tex2html_deferred<<20740>>\par\end<<20741>>tex2html_deferred<<20741>>
\section<<20337>>Acciones en medio de una regla<<20337>>
\label<<20338>>section:mediareglayacc<<20338>>
A veces necesitamos insertar una acción en medio de una regla.
Una acción en medio de una regla puede hacer referencia a los atributos de
los símbolos que la preceden (usando <tex2html_verb_mark>2956<tex2html_verb_mark>), pero no a los que le siguen.
\begin<<20742>>tex2html_deferred<<20742>>\par\end<<20743>>tex2html_deferred<<20743>>
Cuando se  inserta una acción \begin<<20600>>tex2html_wrap_inline<<20600>>$\left \{ action_1\right \}$\end<<20601>>tex2html_wrap_inline<<20601>>
para su ejecución en medio de una regla \begin<<20602>>tex2html_wrap_inline<<20602>>$A \rightarrow \alpha
\beta$\end<<20603>>tex2html_wrap_inline<<20603>>\space :
\begin<<20339>>center<<20339>>
\begin<<20604>>tex2html_wrap_inline<<20604>>$A \rightarrow \alpha \left \{ action_1 \right \} \beta \left \{ action_2\right \}$\end<<20605>>tex2html_wrap_inline<<20605>> 
\end<<20340>>center<<20340>>
<tex2html_verb_mark>2957<tex2html_verb_mark> crea una variable sintáctica temporal \begin<<20606>>tex2html_wrap_inline<<20606>>$T$\end<<20607>>tex2html_wrap_inline<<20607>>\space e introduce una nueva regla:
\begin<<20744>>tex2html_deferred<<20744>>\par\end<<20745>>tex2html_deferred<<20745>>
\begin<<20341>>center<<20341>>
\begin<<20342>>enumerate<<20342>>
\item
\begin<<20608>>tex2html_wrap_inline<<20608>>$A \rightarrow \alpha T \beta \left \{ action_2\right \}$\end<<20609>>tex2html_wrap_inline<<20609>> 
\item
\begin<<20610>>tex2html_wrap_inline<<20610>>$T \rightarrow \epsilon \left \{ action_1 \right \}$\end<<20611>>tex2html_wrap_inline<<20611>> 
\end<<20343>>enumerate<<20343>>
\end<<20344>>center<<20344>>
\begin<<20746>>tex2html_deferred<<20746>>\par\end<<20747>>tex2html_deferred<<20747>>
Las acciones en mitad de una regla cuentan como un símbolo mas en la parte 
derecha de la regla. Asi pues, en una acción posterior en la regla,
se deberán referenciar los  atributos de los símbolos, teniendo en cuenta este hecho.
\begin<<20748>>tex2html_deferred<<20748>>\par\end<<20749>>tex2html_deferred<<20749>>
Las acciones en mitad de la regla pueden tener un atributo. La acción en cuestión puede
hacer referencia a ese atributo mediante <tex2html_verb_mark>2958<tex2html_verb_mark>, y las acciones posteriores
en la regla se referirán a él como <tex2html_verb_mark>2959<tex2html_verb_mark>, siendo <tex2html_verb_mark>2960<tex2html_verb_mark> su número de orden
en la parte derecha. Dado que no existe un símbolo explícito que identifique a 
la acción, no hay manera de que el programador declare su tipo. Sin embargo, es
posible utilizar la construcción <tex2html_verb_mark>2961<tex2html_verb_mark> para especificar 
la forma en la que queremos manipular su atributo.
\begin<<20750>>tex2html_deferred<<20750>>\par\end<<20751>>tex2html_deferred<<20751>>
Na hay forma de darle, en una acción a media regla, un valor al atributo asociado con
la variable en la izquierda de la regla de producción (ya que <tex2html_verb_mark>2962<tex2html_verb_mark> se refiere
al atributo de la variable temporal utilizada para introducir la acción a media regla).
\begin<<20752>>tex2html_deferred<<20752>>\par\end<<20753>>tex2html_deferred<<20753>>
\begin<<20509>>theorem_type<<20509>>[program][program][section][][][]
El siguiente programa ilustra el uso de <tex2html_verb_mark>2964<tex2html_verb_mark> y de las
acciones en medio de una regla.
\label<<20346>>prog:media<<20346>>
\begin<<20347>>tex2html_preform<<20347>><tex2html_verbatim_mark>verbatim6339#\end<<20348>>tex2html_preform<<20348>>\end<<20510>>theorem_type<<20510>>
\begin<<20754>>tex2html_deferred<<20754>>\par\end<<20755>>tex2html_deferred<<20755>>
\begin<<20511>>theorem_type<<20511>>[program][program][section][][][]
El analizador léxico utilizado es el siguiente:
\begin<<20351>>tex2html_preform<<20351>><tex2html_verbatim_mark>verbatim6340#\end<<20352>>tex2html_preform<<20352>>\end<<20512>>theorem_type<<20512>>
\begin<<20756>>tex2html_deferred<<20756>>\par\end<<20757>>tex2html_deferred<<20757>>
\begin<<20513>>theorem_type<<20513>>[example][example][section][][][]
Considere el programa <tex2html_verb_mark>2965<tex2html_verb_mark> \ref<<20355>>prog:media<<20355>>. ¿Cuál es la salida para la entrada 
\begin<<20612>>tex2html_wrap_inline<<20612>>$ABC$\end<<20613>>tex2html_wrap_inline<<20613>>?
\begin<<20758>>tex2html_deferred<<20758>>\par\end<<20759>>tex2html_deferred<<20759>>
La gramática inicial se ve aumentada con dos nuevas variables sintácticas temporales
y dos reglas \begin<<20614>>tex2html_wrap_inline<<20614>>$t_1 \rightarrow \epsilon$\end<<20615>>tex2html_wrap_inline<<20615>>\space y \begin<<20616>>tex2html_wrap_inline<<20616>>$t_2 \rightarrow \epsilon$\end<<20617>>tex2html_wrap_inline<<20617>>. Además las reglas
correspondientes pasan a ser: \begin<<20618>>tex2html_wrap_inline<<20618>>$s \rightarrow x t_1 s$\end<<20619>>tex2html_wrap_inline<<20619>>\space y \begin<<20620>>tex2html_wrap_inline<<20620>>$x \rightarrow A t_2 x$\end<<20621>>tex2html_wrap_inline<<20621>>. El análisis 
de la entrada \begin<<20622>>tex2html_wrap_inline<<20622>>$ABC$\end<<20623>>tex2html_wrap_inline<<20623>>\space nos produce el siguiente árbol anotado:
\begin<<20760>>tex2html_deferred<<20760>>\par\end<<20761>>tex2html_deferred<<20761>>\end<<20514>>theorem_type<<20514>>
\begin<<20762>>tex2html_deferred<<20762>>\par\end<<20763>>tex2html_deferred<<20763>>
\begin<<20515>>theorem_type<<20515>>[execution][execution][section][][][]
Observe la salida de la ejecución del programa \ref<<20358>>prog:media<<20358>>.
La variable ``temporal'' creada por <tex2html_verb_mark>2966<tex2html_verb_mark>  para la acción
en medio de la regla
\begin<<20359>>center<<20359>>
<tex2html_verb_mark>2967<tex2html_verb_mark>\begin<<20624>>tex2html_wrap_inline<<20624>>$\rightarrow$\end<<20625>>tex2html_wrap_inline<<20625>>\space <tex2html_verb_mark>2969<tex2html_verb_mark> 
\end<<20360>>center<<20360>>
se denota por <tex2html_verb_mark>2970<tex2html_verb_mark>. La asociada con la acción en medio de la regla
\begin<<20361>>center<<20361>>
<tex2html_verb_mark>2971<tex2html_verb_mark> \begin<<20626>>tex2html_wrap_inline<<20626>>$\rightarrow$\end<<20627>>tex2html_wrap_inline<<20627>>\space <tex2html_verb_mark>2972<tex2html_verb_mark> 
\end<<20362>>center<<20362>>
se denota <tex2html_verb_mark>2973<tex2html_verb_mark>.
\begin<<20363>>tex2html_preform<<20363>><tex2html_verbatim_mark>verbatim6341#\end<<20364>>tex2html_preform<<20364>>\end<<20516>>theorem_type<<20516>>
\begin<<20764>>tex2html_deferred<<20764>>\par\end<<20765>>tex2html_deferred<<20765>>
\begin<<20517>>theorem_type<<20517>>[example][example][section][][][]
\label<<20367>>exa:conflicto<<20367>>
¿Que ocurre si en el programa \ref<<20368>>prog:media<<20368>> adelantamos la acción intermedia  en la regla
\begin<<20369>>center<<20369>>
<tex2html_verb_mark>2974<tex2html_verb_mark> \begin<<20628>>tex2html_wrap_inline<<20628>>$\rightarrow$\end<<20629>>tex2html_wrap_inline<<20629>>\space <tex2html_verb_mark>2975<tex2html_verb_mark>
\end<<20370>>center<<20370>>
y la reescribimos 
\begin<<20371>>center<<20371>>
<tex2html_verb_mark>2976<tex2html_verb_mark> \begin<<20630>>tex2html_wrap_inline<<20630>>$\rightarrow$\end<<20631>>tex2html_wrap_inline<<20631>>\space <tex2html_verb_mark>2977<tex2html_verb_mark>?
\end<<20372>>center<<20372>>
\begin<<20766>>tex2html_deferred<<20766>>\par\end<<20767>>tex2html_deferred<<20767>>
\begin<<20519>>theorem_type<<20519>>[execution][execution][section][][][]
En tal caso obtendremos:
\begin<<20374>>tex2html_preform<<20374>><tex2html_verbatim_mark>verbatim6342#\end<<20375>>tex2html_preform<<20375>>
¿Cuáles son esos 3 conflictos?\end<<20520>>theorem_type<<20520>>
\begin<<20521>>theorem_type<<20521>>[listing][listing][section][][][]
El fichero <tex2html_verb_mark>2978<tex2html_verb_mark> comienza enumerando las reglas de 
la gramática extendida:
\begin<<20378>>tex2html_preform<<20378>><tex2html_verbatim_mark>verbatim6343#\end<<20379>>tex2html_preform<<20379>>
A continuación nos informa de un conflicto 
en el estado 0. Ante el \emph<<20380>>token<<20380>> <tex2html_verb_mark>2979<tex2html_verb_mark>
no se sabe si se debe desplazar al estado 1
o reducir por la regla 5: <tex2html_verb_mark>2980<tex2html_verb_mark>.
\begin<<20381>>tex2html_preform<<20381>><tex2html_verbatim_mark>verbatim6344#\end<<20382>>tex2html_preform<<20382>>
Observe que, efectivamente, <tex2html_verb_mark>2981<tex2html_verb_mark> esta
en la clausura del estado de arranque del NFA (<tex2html_verb_mark>2982<tex2html_verb_mark>)
Esto es asi, ya que al estar el marcador junto a <tex2html_verb_mark>2983<tex2html_verb_mark>, estará el item
 <tex2html_verb_mark>2984<tex2html_verb_mark> y de aqui que también este
<tex2html_verb_mark>2985<tex2html_verb_mark>. 
\begin<<20768>>tex2html_deferred<<20768>>\par\end<<20769>>tex2html_deferred<<20769>>
Además el \emph<<20383>>token<<20383>> <tex2html_verb_mark>2986<tex2html_verb_mark> está en 
el conjunto \begin<<20632>>tex2html_wrap_inline<<20632>>$FOLLOW(<tex2html_verb_mark>2987<tex2html_verb_mark>)$\end<<20633>>tex2html_wrap_inline<<20633>>\space (Basta con mirar la regla 6 para confirmarlo). 
Por razones análogas también está en la clausura del estado de 
arranque el item <tex2html_verb_mark>2988<tex2html_verb_mark> que es el que motiva el
desplazamiento al estado 1.
\begin<<20770>>tex2html_deferred<<20770>>\par\end<<20771>>tex2html_deferred<<20771>>
La dificultad para <tex2html_verb_mark>2989<tex2html_verb_mark> se resolvería si
dispusiera de información acerca de cual es el \emph<<20384>>token<<20384>>
que viene después de la <tex2html_verb_mark>2990<tex2html_verb_mark> que causa el conflicto. \end<<20522>>theorem_type<<20522>>
\end<<20518>>theorem_type<<20518>>
\begin<<20772>>tex2html_deferred<<20772>>\par\end<<20773>>tex2html_deferred<<20773>>
\begin<<20523>>theorem_type<<20523>>[exercise][exercise][section][][][]
¿Que acción debe tomarse en el conflicto del ejemplo \ref<<20388>>exa:conflicto<<20388>> 
si el \emph<<20389>>token<<20389>> que viene después de <tex2html_verb_mark>2991<tex2html_verb_mark> es <tex2html_verb_mark>2992<tex2html_verb_mark>?
¿Y si el \emph<<20390>>token<<20390>> es <tex2html_verb_mark>2993<tex2html_verb_mark>? ¿Se debe reducir o desplazar?\end<<20524>>theorem_type<<20524>>
\begin<<20774>>tex2html_deferred<<20774>>\par\end<<20775>>tex2html_deferred<<20775>>
\section<<20392>>Recuperación de Errores<<20392>>
\label<<20393>>section:recuperryacc<<20393>>
Las entradas de un traductor pueden contener errores. 
El lenguaje <tex2html_verb_mark>2994<tex2html_verb_mark> proporciona un \emph<<20394>>token<<20394>> especial,
<tex2html_verb_mark>2995<tex2html_verb_mark>, que puede ser utilizado en el programa fuente
para extender el traductor con producciones de error 
que lo doten de cierta capacidad para 
recuperase de  una entrada errónea y poder continuar 
analizando el resto de la entrada.
\begin<<20525>>theorem_type<<20525>>[execution][execution][section][][][]
Consideremos lo que ocurre al ejecutar el programa <tex2html_verb_mark>2996<tex2html_verb_mark>
\ref<<20396>>prog:calc1<<20396>> con una entrada errónea:
\begin<<20397>>tex2html_preform<<20397>><tex2html_verbatim_mark>verbatim6345#\end<<20398>>tex2html_preform<<20398>>\end<<20526>>theorem_type<<20526>>
\begin<<20776>>tex2html_deferred<<20776>>\par\end<<20777>>tex2html_deferred<<20777>>
Después de detectar el mensaje <tex2html_verb_mark>2997<tex2html_verb_mark> emite el mensaje 
<tex2html_verb_mark>2998<tex2html_verb_mark> y comienza a sacar estados de la pìla hasta que esta se vacía.
\begin<<20778>>tex2html_deferred<<20778>>\par\end<<20779>>tex2html_deferred<<20779>>
\begin<<20527>>theorem_type<<20527>>[program][program][section][][][]
\label<<20401>>prog:calc1err<<20401>>
La conducta anterior puede modificarse si se introducen ``reglas de 
recuperación de errores'' como en la siguiente modificación
del programa \ref<<20402>>prog:calc1<<20402>>:
\begin<<20403>>tex2html_preform<<20403>><tex2html_verbatim_mark>verbatim6346#\end<<20404>>tex2html_preform<<20404>>\end<<20528>>theorem_type<<20528>>
La regla <tex2html_verb_mark>2999<tex2html_verb_mark>\begin<<20634>>tex2html_wrap_inline<<20634>>$\rightarrow$\end<<20635>>tex2html_wrap_inline<<20635>>\space <tex2html_verb_mark>3000<tex2html_verb_mark> es una producción de
error. La idea general de uso es que, a traves de la misma, el programador 
le indica a <tex2html_verb_mark>3001<tex2html_verb_mark> que, cuando se produce un error
dentro de una expresión, descarte todos los \emph<<20406>>tokens<<20406>> hasta llegar al
retorno del carro y prosiga con el análisis. 
Además, mediante la llamada a  la macro <tex2html_verb_mark>3002<tex2html_verb_mark> el programador
anuncia que, si se alcanza este punto, la recuperación puede considerarse ``completa''  y que 
<tex2html_verb_mark>3003<tex2html_verb_mark> puede emitir a partir de ese moemnto mensajes de error
con la seguridad de que no son consecuencia de un comportamiento inestable
provocado por el primer error.
\begin<<20780>>tex2html_deferred<<20780>>\par\end<<20781>>tex2html_deferred<<20781>>
\begin<<20529>>theorem_type<<20529>>[algorithm][algorithm][section][][][]
\label<<20408>>alg:errorrecovery1<<20408>>
El esquema general del algoritmo de recuperación de errores usado 
por la versión actual de <tex2html_verb_mark>3004<tex2html_verb_mark> es el siguiente:
\begin<<20782>>tex2html_deferred<<20782>>\par\end<<20783>>tex2html_deferred<<20783>>
\begin<<20409>>enumerate<<20409>>
\item
Cuando se encuentra ante una acción de error, el analizador genera un 
\emph<<20410>>token<<20410>> <tex2html_verb_mark>3005<tex2html_verb_mark>.
\begin<<20784>>tex2html_deferred<<20784>>\par\end<<20785>>tex2html_deferred<<20785>>
\item
A continuación pasa a retirar estados de la pila hasta que descubre un estado capaz de transitar ante 
el \emph<<20411>>token<<20411>> <tex2html_verb_mark>3006<tex2html_verb_mark>. 
\begin<<20786>>tex2html_deferred<<20786>>\par\end<<20787>>tex2html_deferred<<20787>>
\item
En este punto transita al estado correspondiente a desplazar el 
\emph<<20412>>token<<20412>> <tex2html_verb_mark>3007<tex2html_verb_mark>. 
\begin<<20788>>tex2html_deferred<<20788>>\par\end<<20789>>tex2html_deferred<<20789>>
\item
Entonces lee \emph<<20413>>tokens<<20413>> y los descarta hasta encontrar
uno que sea aceptable. 
\begin<<20790>>tex2html_deferred<<20790>>\par\end<<20791>>tex2html_deferred<<20791>>
\item
Sólo se envían nuevos mensajes de error una vez asimilados (desplazados) tres símbolos terminales. De este modos se intenta evitar la aparición masiva de mensajes de error.
\end<<20414>>enumerate<<20414>>\end<<20530>>theorem_type<<20530>>
\begin<<20792>>tex2html_deferred<<20792>>\par\end<<20793>>tex2html_deferred<<20793>>
\begin<<20531>>theorem_type<<20531>>[algorithm][algorithm][section][][][]
El cuerpo principal del analizador LR permanece
sin demasiados cambios:
\begin<<20417>>tex2html_preform<<20417>><tex2html_verbatim_mark>verbatim6347#\end<<20418>>tex2html_preform<<20418>>\end<<20532>>theorem_type<<20532>>
\begin<<20533>>theorem_type<<20533>>[algorithm][algorithm][section][][][]
El siguiente seudocódigo es una reescritura mas detallada del algoritmo \ref<<20421>>alg:errorrecovery1<<20421>>. Asumimos que las funciones <tex2html_verb_mark>3008<tex2html_verb_mark> y <tex2html_verb_mark>3009<tex2html_verb_mark>
comprueban que hay suficientes elementos en
la pila para retirar. En caso contrario se emitirá un mensaje de error y 
se terminará el análisis. 
\begin<<20794>>tex2html_deferred<<20794>>\par\end<<20795>>tex2html_deferred<<20795>>
\begin<<20422>>tex2html_preform<<20422>><tex2html_verbatim_mark>verbatim6348#\end<<20423>>tex2html_preform<<20423>>\end<<20534>>theorem_type<<20534>>
Parecen existir diferencias en la forma en la que \emph<<20425>>bison<<20425>> y \emph<<20426>>yacc<<20426>> se recuperan de los errores.
\begin<<20796>>tex2html_deferred<<20796>>\par\end<<20797>>tex2html_deferred<<20797>>
\begin<<20535>>theorem_type<<20535>>[execution][execution][section][][][]
Ejecutemos el programa \ref<<20428>>prog:calc1err<<20428>> con <tex2html_verb_mark>3010<tex2html_verb_mark>.
\begin<<20429>>tex2html_preform<<20429>><tex2html_verbatim_mark>verbatim6349#\end<<20430>>tex2html_preform<<20430>>
Puesto que es el primer error, se cumple que 
<tex2html_verb_mark>3011<tex2html_verb_mark>, emitiéndose el mensaje de error.
Ahora comienzan a ejecutarse las líneas:
\begin<<20798>>tex2html_deferred<<20798>>\par\end<<20799>>tex2html_deferred<<20799>>
\begin<<20431>>center<<20431>>
\noindent <tex2html_verb_mark>3012<tex2html_verb_mark>
\end<<20432>>center<<20432>>
\begin<<20800>>tex2html_deferred<<20800>>\par\end<<20801>>tex2html_deferred<<20801>>
\noindent que descartan los estados, hasta encontrar el estado
que contiene el item 
\begin<<20802>>tex2html_deferred<<20802>>\par\end<<20803>>tex2html_deferred<<20803>>
<tex2html_verb_mark>3013<tex2html_verb_mark> \begin<<20636>>tex2html_wrap_inline<<20636>>$\rightarrow$\end<<20637>>tex2html_wrap_inline<<20637>>\space <tex2html_verb_mark>3014<tex2html_verb_mark> \begin<<20638>>tex2html_wrap_inline<<20638>>$\uparrow$\end<<20639>>tex2html_wrap_inline<<20639>>\space <tex2html_verb_mark>3015<tex2html_verb_mark>  
\begin<<20433>>tex2html_preform<<20433>><tex2html_verbatim_mark>verbatim6350#\end<<20434>>tex2html_preform<<20434>>
Una vez en ese estado, transitamos con el token <tex2html_verb_mark>3016<tex2html_verb_mark>,
\begin<<20435>>tex2html_preform<<20435>><tex2html_verbatim_mark>verbatim6351#\end<<20436>>tex2html_preform<<20436>>
Se ha procedido a descartar \emph<<20437>>tokens<<20437>> hasta encontrar el retorno
de carro, ejecutando las líneas:
\begin<<20438>>center<<20438>>
<tex2html_verb_mark>3017<tex2html_verb_mark>
\end<<20439>>center<<20439>>
\begin<<20804>>tex2html_deferred<<20804>>\par\end<<20805>>tex2html_deferred<<20805>>
\begin<<20440>>tex2html_preform<<20440>><tex2html_verbatim_mark>verbatim6352#\end<<20441>>tex2html_preform<<20441>>
Al reducir por la regla de error, se ejecuta <tex2html_verb_mark>3018<tex2html_verb_mark>
y <tex2html_verb_mark>3019<tex2html_verb_mark> reestablece el valor de <tex2html_verb_mark>3020<tex2html_verb_mark>.
Si se producen nuevos errores serán señalados.\end<<20536>>theorem_type<<20536>>
\begin<<20806>>tex2html_deferred<<20806>>\par\end<<20807>>tex2html_deferred<<20807>>
\section<<20443>>Recuperación de Errores en Listas<<20443>>
\label<<20444>>section:recuperryacclistas<<20444>>
Aunque no existe un método exacto para decidir como ubicar
las reglas de recuperación de errores, 
en general, los s\'<<20445>>\i<<20445>>mbolos de error deben ubicarse intentado 
satisfacer las siguientes reglas:
\begin<<20808>>tex2html_deferred<<20808>>\par\end<<20809>>tex2html_deferred<<20809>>
\begin<<20446>>itemize<<20446>>
\item
Tan cerca como sea posible del s\'<<20447>>\i<<20447>>mbolo de arranque.
\item
Tan cerca como sea posible de los s\'<<20448>>\i<<20448>>mbolos terminales.
\item
Sin introducir nuevos conflictos.
\end<<20449>>itemize<<20449>>
\begin<<20810>>tex2html_deferred<<20810>>\par\end<<20811>>tex2html_deferred<<20811>>
\begin<<20537>>theorem_type<<20537>>[scheme][scheme][section][][][]
\label<<20451>>scheme:errinlists<<20451>>
En el caso particular de las listas, se recomienda seguir el
siguiente esquema:
\begin<<20812>>tex2html_deferred<<20812>>\par\end<<20813>>tex2html_deferred<<20813>>
\begin<<20452>>math<<20452>>
\begin<<20453>>array<<20453>><<20454>>lll<<20454>>
Construct         ;SPMamp; EBNF ;SPMamp; yacc\ input\\ 
\hline
optional\ sequence ;SPMamp; x:\{y\}   ;SPMamp; <tex2html_verb_mark>3021<tex2html_verb_mark>\\  
                   ;SPMamp;           ;SPMamp; <tex2html_verb_mark>3022<tex2html_verb_mark> x y  <<20455>> yyerrok; <<20455>>      |\\ 
                   ;SPMamp;           ;SPMamp; <tex2html_verb_mark>3023<tex2html_verb_mark> x error                |\\ 
\hline
sequence          ;SPMamp; x:y\{y\}  ;SPMamp; <tex2html_verb_mark>3024<tex2html_verb_mark>\\  
                  ;SPMamp;           ;SPMamp; <tex2html_verb_mark>3025<tex2html_verb_mark> xy   <<20456>> yyerrok; <<20456>>      |\\ 
                ;SPMamp;           ;SPMamp; <tex2html_verb_mark>3026<tex2html_verb_mark> error                  |\\ 
                ;SPMamp;           ;SPMamp; <tex2html_verb_mark>3027<tex2html_verb_mark> x error                |\\ 
\hline
list              ;SPMamp; x:y\{Ty\} ;SPMamp; <tex2html_verb_mark>3028<tex2html_verb_mark>\\  
                  ;SPMamp;           ;SPMamp; <tex2html_verb_mark>3029<tex2html_verb_mark> x T y <<20457>> yyerrok; <<20457>>      |\\ 
                ;SPMamp;           ;SPMamp; <tex2html_verb_mark>3030<tex2html_verb_mark> error                   |\\ 
                ;SPMamp;           ;SPMamp; <tex2html_verb_mark>3031<tex2html_verb_mark> x error                 |\\ 
                ;SPMamp;           ;SPMamp; <tex2html_verb_mark>3032<tex2html_verb_mark> x error y <<20458>> yyerrok; <<20458>>  |\\ 
                ;SPMamp;           ;SPMamp; <tex2html_verb_mark>3033<tex2html_verb_mark> x  T error              |\\ 
\hline
\end<<20459>>array<<20459>>
\end<<20460>>math<<20460>>\end<<20538>>theorem_type<<20538>>
\begin<<20814>>tex2html_deferred<<20814>>\par\end<<20815>>tex2html_deferred<<20815>>
\begin<<20539>>theorem_type<<20539>>[program][program][section][][][]
Para comprobar el funcionamiento y la validez de la metodología 
esquematizada en el esquema \ref<<20463>>scheme:errinlists<<20463>>, 
consideremos los contenidos del fichero <tex2html_verb_mark>3034<tex2html_verb_mark>.
En el se muestra el tercer caso x:y\{Ty\} con 
x = <<20464>>\begin<<20816>>tex2html_deferred<<20816>>\tt\end<<20817>>tex2html_deferred<<20817>>list<<20464>>, T = <<20465>>\begin<<20818>>tex2html_deferred<<20818>>\tt\end<<20819>>tex2html_deferred<<20819>>,<<20465>> e y = <<20466>>\begin<<20820>>tex2html_deferred<<20820>>\tt\end<<20821>>tex2html_deferred<<20821>>NUMBER<<20466>>:
\begin<<20467>>tex2html_preform<<20467>><tex2html_verbatim_mark>verbatim6353#\end<<20468>>tex2html_preform<<20468>> \end<<20540>>theorem_type<<20540>>
\begin<<20822>>tex2html_deferred<<20822>>\par\end<<20823>>tex2html_deferred<<20823>>
\begin<<20541>>theorem_type<<20541>>[listing][listing][section][][][]
La compilación con <tex2html_verb_mark>3035<tex2html_verb_mark> da lugar a una tabla ligeramente diferente
de la producida por <tex2html_verb_mark>3036<tex2html_verb_mark>.
El fichero <tex2html_verb_mark>3037<tex2html_verb_mark> contiene la tabla:
\begin<<20471>>tex2html_preform<<20471>><tex2html_verbatim_mark>verbatim6354#\end<<20472>>tex2html_preform<<20472>>\end<<20542>>theorem_type<<20542>>
\begin<<20543>>theorem_type<<20543>>[execution][execution][section][][][]
La ejecución del programa generado por <<20475>>\begin<<20824>>tex2html_deferred<<20824>>\tt\end<<20825>>tex2html_deferred<<20825>>yacc<<20475>> es como sigue:
\begin<<20476>>tex2html_preform<<20476>><tex2html_verbatim_mark>verbatim6355#\end<<20477>>tex2html_preform<<20477>>\end<<20544>>theorem_type<<20544>>
<tex2html_endfile>#./chapter_bottomup/yaccexamples.tex#
\begin<<20826>>tex2html_deferred<<20826>>\par\end<<20827>>tex2html_deferred<<20827>>
\chapter<<20479>>Análisis Semántico<<20479>>
\begin<<20828>>tex2html_deferred<<20828>>\par\end<<20829>>tex2html_deferred<<20829>>
\chapter<<20480>>Generación de Código<<20480>>
\begin<<20830>>tex2html_deferred<<20830>>\par\end<<20831>>tex2html_deferred<<20831>>
\chapter<<20481>>Optimización de Código<<20481>>
\begin<<20832>>tex2html_deferred<<20832>>\par\end<<20833>>tex2html_deferred<<20833>>
\part<<20482>>TERCERA PARTE: BITÁCORA DEL CURSO<<20482>>
