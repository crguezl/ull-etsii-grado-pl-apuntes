<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Selección de Código y Gramáticas Árbol</TITLE>
<META NAME="description" CONTENT="Selección de Código y Gramáticas Árbol">
<META NAME="keywords" CONTENT="javascriptexamples">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="mystyle.css">

<LINK REL="next" HREF="node72.html">
<LINK REL="previous" HREF="node70.html">
<LINK REL="up" HREF="node69.html">
<LINK REL="next" HREF="node72.html">
</HEAD>

<BODY >

<DIV CLASS="navigation">
<A NAME="tex2html2160"
  HREF="node72.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html2154"
  HREF="node69.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html2148"
  HREF="node70.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html2156"
  HREF="node88.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html2158"
  HREF="node91.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html2"
  HREF="http://nereida.deioc.ull.es/perlexamples/index.html"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="logoLPP.png"
 ALT="Apuntes de LPP"></A><A NAME="tex2html3"
  HREF="https://campusvirtual.ull.es/1415/course/view.php?id=5669"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="PL moodle 2014/2015"></A><A NAME="tex2html4"
  HREF="http://campusvirtual.ull.es/1314/course/view.php?id=1104"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="PL moodle 2013/2014"></A><A NAME="tex2html5"
  HREF="javascriptexamples.pdf"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="ps"></A><A NAME="tex2html6"
  HREF="https://plus.google.com/u/0/communities/103299470687051533933"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="perl6.jpg"
 ALT="comunidad g+ PL1415"></A><A NAME="tex2html7"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html8"
  HREF="http://www.ull.es/view/centros/etsii/Grado_en_Ingenieria_Informatica/es"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html9"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html10"
  HREF="https://github.com/crguezl"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="crguezl at github"></A>
<BR>
<B> Sig:</B> <A NAME="tex2html2161"
  HREF="node72.html">Patrones Árbol y Transformaciones</A>
<B>Sup:</B> <A NAME="tex2html2155"
  HREF="node69.html">Transformaciones Árbol</A>
<B> Ant:</B> <A NAME="tex2html2149"
  HREF="node70.html">Árbol de Análisis Abstracto</A>
<B> Con:</B> 
<A NAME="tex2html2156"
  HREF="node88.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>
<B> Ind:</B> 
<A NAME="tex2html2158"
  HREF="node91.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A>
<BR> <P>
</DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION04720000000000000000"></A>
<A NAME="section:selecciondecodigo"></A>
<BR>
Selección de Código y Gramáticas Árbol
</H1>
La generación de código es la fase en la que a partir de la 
<A NAME="9194"></A><SPAN  CLASS="textbf">Representación intermedia</SPAN> o <A NAME="9196"></A><SPAN  CLASS="textbf">IR</SPAN> se genera 
una secuencia de instrucciones para la máquina objeto.
Esta tarea conlleva diversas subtareas, entre ellas destacan
tres: 

<UL>
<LI>La selección de instrucciones o selección de código, 
</LI>
<LI>La asignación de registros
y 
</LI>
<LI>La planificación de las instrucciones.
</LI>
</UL>

<P>
El problema de la <A NAME="9198"></A><SPAN  CLASS="textbf">selección de código</SPAN> surge de que
la mayoría de las máquinas suelen tener una gran variedad de instrucciones,
habitualmente cientos y muchas instrucciones admiten mas de una decena de modos de 
direccionamiento.
En consecuencia, 

<P>
<DIV ALIGN="CENTER">
<BLOCKQUOTE>
There Is More Than One Way To Do It (The Translation)

</BLOCKQUOTE>
</DIV>

<P>
<SPAN  CLASS="textbf">Es posible asociar 
una gramática árbol con 
el juego de instrucciones de una máquina</SPAN>. 
Las partes derechas de las reglas de producción de esta gramática vienen determinadas
por el conjunto de árboles sintácticos de las instrucciones. 
La gramática tiene dos variables sintácticas 
que denotan dos tipos de recursos de la máquina: los registros
representados por la variable sintáctica <SPAN CLASS="MATH"><IMG
 WIDTH="18" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img69.png"
 ALT="$ R$"></SPAN> y las direcciones de memoria 
representadas por <SPAN CLASS="MATH"><IMG
 WIDTH="28" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img307.png"
 ALT="$ M.$"></SPAN> 
Una instrucción deja su resultado en cierto lugar, normalmente un registro o
memoria. La idea es que las variables sintácticas en los lados izquierdos
de las reglas representan los lugares
en los cuales las instrucciones dejan sus resultados.

<P>
Ademas, a cada instrucción le asociamos un coste:

<P>
<DIV ALIGN="CENTER">
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="CENTER" COLSPAN=3><SPAN>Gramática Arbol Para un Juego de Instrucciones Simple</SPAN></TD>
</TR>
<TR><TD ALIGN="LEFT">Producción</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=120>Instrucción</TD>
<TD ALIGN="LEFT">Coste</TD>
</TR>
<TR><TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img35.png"
 ALT="$ \rightarrow$"></SPAN> NUM</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=120><code>LOADC R, NUM</code></TD>
<TD ALIGN="LEFT">1</TD>
</TR>
<TR><TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img35.png"
 ALT="$ \rightarrow$"></SPAN> M</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=120><code>LOADM R, M</code></TD>
<TD ALIGN="LEFT">3</TD>
</TR>
<TR><TD ALIGN="LEFT">M <!-- MATH
 $\rightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img35.png"
 ALT="$ \rightarrow$"></SPAN> R</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=120><code>STOREM M, R</code></TD>
<TD ALIGN="LEFT">3</TD>
</TR>
<TR><TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img35.png"
 ALT="$ \rightarrow$"></SPAN> PLUS(R,M)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=120><code>PLUSM R, M</code></TD>
<TD ALIGN="LEFT">3</TD>
</TR>
<TR><TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img35.png"
 ALT="$ \rightarrow$"></SPAN> PLUS(R,R)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=120><code>PLUSR R, R</code></TD>
<TD ALIGN="LEFT">1</TD>
</TR>
<TR><TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img35.png"
 ALT="$ \rightarrow$"></SPAN> TIMES(R,M)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=120><code>TIMESM R, M</code></TD>
<TD ALIGN="LEFT">6</TD>
</TR>
<TR><TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img35.png"
 ALT="$ \rightarrow$"></SPAN> TIMES(R,R)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=120><code>TIMESR R, R</code></TD>
<TD ALIGN="LEFT">4</TD>
</TR>
<TR><TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img35.png"
 ALT="$ \rightarrow$"></SPAN> PLUS(R,TIMES(NUM,R))</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=120><code>PLUSCR R, NUM, R</code></TD>
<TD ALIGN="LEFT">4</TD>
</TR>
<TR><TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img35.png"
 ALT="$ \rightarrow$"></SPAN> TIMES(R,TIMES(NUM,R))</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=120><code>TIMESCR R, NUM, R</code></TD>
<TD ALIGN="LEFT">5</TD>
</TR>
</TABLE>
</DIV>

<P>
Consideremos la IR consistente en el AST generado por el front-end del compilador
para la expresión <code>x+3*(7*y)</code>:

<P>
<PRE>
                           PLUS(M[x],TIMES(N[3],TIMES(N[7],M[y])
</PRE>

<P>
Construyamos una derivación a izquierdas para el árbol anterior:

<P>
<DIV ALIGN="CENTER">
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="CENTER" COLSPAN=4><SPAN> Una derivación árbol a izquierdas para <!-- MATH
 $P(M,T(N,T(N,M)))$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="174" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img308.png"
 ALT="$ P(M,T(N,T(N,M)))$"></SPAN></SPAN></TD>
</TR>
<TR><TD ALIGN="LEFT">Derivación</TD>
<TD ALIGN="LEFT">Producción</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=85>Instrucción</TD>
<TD ALIGN="RIGHT">Coste</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $R \Longrightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="51" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="img309.png"
 ALT="$ R \Longrightarrow$"></SPAN></TD>
<TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img35.png"
 ALT="$ \rightarrow$"></SPAN> PLUS(R,R)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=85><code>PLUSR R, R</code></TD>
<TD ALIGN="RIGHT">1</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $P(R,R) \Longrightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="99" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img310.png"
 ALT="$ P(R,R) \Longrightarrow$"></SPAN></TD>
<TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img35.png"
 ALT="$ \rightarrow$"></SPAN> M</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=85><code>LOADM R, M</code></TD>
<TD ALIGN="RIGHT">3</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $P(M,R) \Longrightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="104" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img311.png"
 ALT="$ P(M,R) \Longrightarrow$"></SPAN></TD>
<TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img35.png"
 ALT="$ \rightarrow$"></SPAN> TIMES(R,R)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=85><code>TIMESR R, R</code></TD>
<TD ALIGN="RIGHT">4</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $P(M, T(R, R)) \Longrightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="151" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img312.png"
 ALT="$ P(M, T(R, R)) \Longrightarrow$"></SPAN></TD>
<TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img35.png"
 ALT="$ \rightarrow$"></SPAN> NUM</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=85><code>LOADC R, NUM</code></TD>
<TD ALIGN="RIGHT">1</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $P(M, T(N, R)) \Longrightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="153" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img313.png"
 ALT="$ P(M, T(N, R)) \Longrightarrow$"></SPAN></TD>
<TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img35.png"
 ALT="$ \rightarrow$"></SPAN> TIMES(R,R)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=85><code>TIMESR R, R</code></TD>
<TD ALIGN="RIGHT">4</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $P(M, T(N, T(R, R))) \Longrightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="200" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img314.png"
 ALT="$ P(M, T(N, T(R, R))) \Longrightarrow$"></SPAN></TD>
<TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img35.png"
 ALT="$ \rightarrow$"></SPAN> NUM</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=85><code>LOADC R, NUM</code></TD>
<TD ALIGN="RIGHT">1</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $P(M, T(N, T(N, R))) \Longrightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="202" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img315.png"
 ALT="$ P(M, T(N, T(N, R))) \Longrightarrow$"></SPAN></TD>
<TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img35.png"
 ALT="$ \rightarrow$"></SPAN> M</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=85><code>LOADM R, M</code></TD>
<TD ALIGN="RIGHT">3</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $P(M,T(N,T(N,M)))$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="174" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img308.png"
 ALT="$ P(M,T(N,T(N,M)))$"></SPAN></TD>
<TD ALIGN="LEFT">&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=85>&nbsp;</TD>
<TD ALIGN="RIGHT">Total: 17</TD>
</TR>
</TABLE>
</DIV>

<P>
Obsérvese que, si asumimos por ahora que hay suficientes registros, la secuencia
de instrucciones resultante en la tercera columna de la tabla si se lee en orden inverso
(esto es, si se sigue el orden de instrucciones asociadas a las reglas de producción
en orden de anti-derivación)
y se hace una asignación correcta de registros nos da una traducción correcta
de la expresión <code>x+3*(7*y)</code>:

<P>
<PRE>
LOADM R, M         # y 
LOADC R, NUM       # 7
TIMESR R, R        # 7*y
LOADC R, NUM       # 3
TIMESR R, R        # 3*(7*y)
LOADM R, M         # x
PLUSR R, R         # x+3*(7*y)
</PRE>

<P>
La gramática anterior es ambigua. El árbol de <code>x+3*(7*y)</code>
puede ser generado también mediante la siguiente derivación 
a izquierdas:

<P>
<DIV ALIGN="CENTER">
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="CENTER" COLSPAN=4><SPAN> Otra derivación árbol a izquierdas para <!-- MATH
 $P(M,T(N,T(N,M)))$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="174" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img308.png"
 ALT="$ P(M,T(N,T(N,M)))$"></SPAN></SPAN></TD>
</TR>
<TR><TD ALIGN="LEFT">Derivación</TD>
<TD ALIGN="LEFT">Producción</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=113>Instrucción</TD>
<TD ALIGN="RIGHT">Coste</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $R \Longrightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="51" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="img309.png"
 ALT="$ R \Longrightarrow$"></SPAN></TD>
<TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img35.png"
 ALT="$ \rightarrow$"></SPAN> PLUS(R,TIMES(NUM,R))</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=113><code>PLUSCR R, NUM, R</code></TD>
<TD ALIGN="RIGHT">4</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $P(R,T(N,R)) \Longrightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="148" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img316.png"
 ALT="$ P(R,T(N,R)) \Longrightarrow$"></SPAN></TD>
<TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img35.png"
 ALT="$ \rightarrow$"></SPAN> M</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=113><code>LOADM R, M</code></TD>
<TD ALIGN="RIGHT">3</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $P(M,T(N,R)) \Longrightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="153" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img313.png"
 ALT="$ P(M, T(N, R)) \Longrightarrow$"></SPAN></TD>
<TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img35.png"
 ALT="$ \rightarrow$"></SPAN> TIMES(R,M)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=113><code>TIMESM R, M</code></TD>
<TD ALIGN="RIGHT">6</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $P(M,T(N,T(R,M)))$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="172" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img317.png"
 ALT="$ P(M,T(N,T(R,M))) $"></SPAN></TD>
<TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img35.png"
 ALT="$ \rightarrow$"></SPAN> NUM</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=113><code>LOADC R, NUM</code></TD>
<TD ALIGN="RIGHT">1</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $P(M,T(N,T(N,M)))$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="174" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img308.png"
 ALT="$ P(M,T(N,T(N,M)))$"></SPAN></TD>
<TD ALIGN="LEFT">&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=113>&nbsp;</TD>
<TD ALIGN="RIGHT">Total: 14</TD>
</TR>
</TABLE>
</DIV>

<P>
La nueva secuencia de instrucciones para <code>x+3*(7*y)</code> es:

<P>
<PRE>
LOADC R, NUM        # 7
TIMESM R, M         # 7*y
LOADM R, M          # x
PLUSCR R, NUM, R    # x+3*(7*y)
</PRE>

<P>
Cada antiderivación a izquierdas produce una secuencia de instrucciones que es una traducción
legal del AST de <code>x+3*(7*y)</code>. 

<P>
<SPAN  CLASS="textbf">El problema de la selección de código óptima
puede aproximarse resolviendo 
el problema de  encontrar la derivación árbol óptima que produce el árbol
de entrada (en representación intermedia IR)</SPAN>

<P>
<P>
<DIV><B>Definición  <SPAN CLASS="arabic">7</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">1</SPAN></B> &nbsp; 
<I>Un <A NAME="9200"></A><SPAN  CLASS="textbf">generador de generadores de código</SPAN> es una componente software que toma como
entrada una especificación de la plataforma objeto -por ejemplo mediante una gramática
árbol- y genera un módulo que es utilizado por el compilador. Este módulo
lee la representación intermedia (habitualmente un árbol) y 
retorna código máquina como resultado.</I></DIV><P></P>

<P>
Un ejemplo de generador de generadores de código 
es 
<A NAME="tex2html314"
  HREF="http://code.google.com/p/iburg/">iburg</A>
[<A
 HREF="node92.html#Proebsting">7</A>].

<P>
Véase también el libro 
<A NAME="tex2html315"
  HREF="http://www.bytelabs.org/pub/papers/hburg07.pdf">Automatic Code Generation Using Dynamic Programming Techniques</A>
y la página <A NAME="tex2html316"
  HREF="http://www.bytelabs.org/hburg.html">http://www.bytelabs.org/hburg.html</A>
<P>
<P>
<DIV><B>Ejercicio  <SPAN CLASS="arabic">7</SPAN>.<SPAN CLASS="arabic">2</SPAN>.<SPAN CLASS="arabic">1</SPAN></B> &nbsp; 
<I>Responda a las siguientes preguntas:
</I>
<UL>
<LI>Sea <SPAN CLASS="MATH"><IMG
 WIDTH="34" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img318.png"
 ALT="$ G_M$"></SPAN> la gramática árbol asociada segun la descripción anterior
con el juego de instrucciones de la máquina <SPAN CLASS="MATH"><IMG
 WIDTH="24" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img319.png"
 ALT="$ M$"></SPAN>. Especifique formalmente
las cuatro componentes de la gramática <!-- MATH
 $G_M = (\Sigma_M, V_M, P_M, S_M)$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="199" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img320.png"
 ALT="$ G_M = (\Sigma_M, V_M, P_M, S_M)$"></SPAN> 
</LI>
<LI>¿Cual es el lenguaje árbol generado por <SPAN CLASS="MATH"><IMG
 WIDTH="34" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img318.png"
 ALT="$ G_M$"></SPAN>?
</LI>
<LI>¿A que lenguaje debe pertenecer la representación intermedia IR para
que se pueda aplicar la aproximación presentada en esta sección?
</LI>
</UL></DIV><P></P>

<P>

<DIV CLASS="navigation"><HR>
<A NAME="tex2html2160"
  HREF="node72.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html2154"
  HREF="node69.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html2148"
  HREF="node70.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html2156"
  HREF="node88.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html2158"
  HREF="node91.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html2"
  HREF="http://nereida.deioc.ull.es/perlexamples/index.html"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="logoLPP.png"
 ALT="Apuntes de LPP"></A><A NAME="tex2html3"
  HREF="https://campusvirtual.ull.es/1415/course/view.php?id=5669"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="PL moodle 2014/2015"></A><A NAME="tex2html4"
  HREF="http://campusvirtual.ull.es/1314/course/view.php?id=1104"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="PL moodle 2013/2014"></A><A NAME="tex2html5"
  HREF="javascriptexamples.pdf"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="ps"></A><A NAME="tex2html6"
  HREF="https://plus.google.com/u/0/communities/103299470687051533933"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="perl6.jpg"
 ALT="comunidad g+ PL1415"></A><A NAME="tex2html7"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html8"
  HREF="http://www.ull.es/view/centros/etsii/Grado_en_Ingenieria_Informatica/es"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html9"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html10"
  HREF="https://github.com/crguezl"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="crguezl at github"></A>
<BR>
<B> Sig:</B> <A NAME="tex2html2161"
  HREF="node72.html">Patrones Árbol y Transformaciones</A>
<B>Sup:</B> <A NAME="tex2html2155"
  HREF="node69.html">Transformaciones Árbol</A>
<B> Ant:</B> <A NAME="tex2html2149"
  HREF="node70.html">Árbol de Análisis Abstracto</A>
</DIV>
<!--End of Navigation Panel-->
<ADDRESS>
<I>Casiano Rodríguez León <BR>
2015-02-09</I>
</ADDRESS>
</BODY>
</HTML>
