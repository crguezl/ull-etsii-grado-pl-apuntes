<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>OmniAuth gem: Standardized Multi-Provider Authentication for Ruby</TITLE>
<META NAME="description" CONTENT="OmniAuth gem: Standardized Multi-Provider Authentication for Ruby">
<META NAME="keywords" CONTENT="javascriptexamples">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="mystyle.css">

<LINK REL="next" HREF="node204.html">
<LINK REL="previous" HREF="node202.html">
<LINK REL="up" HREF="node199.html">
<LINK REL="next" HREF="node204.html">
</HEAD>

<BODY >

<DIV CLASS="navigation">
<A NAME="tex2html6201"
  HREF="node204.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html6195"
  HREF="node199.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html6189"
  HREF="node202.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html6197"
  HREF="node214.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html6199"
  HREF="node217.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html2"
  HREF="http://nereida.deioc.ull.es/~plgrado/index.html"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="logoLPP.png"
 ALT="PL"></A><A NAME="tex2html3"
  HREF="http://campusvirtual.ull.es/1314/course/view.php?id=1104"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="PL moodle"></A><A NAME="tex2html4"
  HREF="http://campusvirtual.ull.es/1213m2/course/view.php?id=271"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="PL moodle"></A><A NAME="tex2html5"
  HREF="javascriptexamples.pdf"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="ps"></A><A NAME="tex2html6"
  HREF="http://crguezl.github.io/pl-html/"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="ruby gems"></A><A NAME="tex2html7"
  HREF="https://developer.mozilla.org/es/docs/JavaScript"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html8"
  HREF="http://github.com"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="google-code-project-hosting.jpeg"
 ALT="github"></A><A NAME="tex2html9"
  HREF="https://plus.google.com/u/0/communities/107031495100582318205"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="perl6.jpg"
 ALT="comunidad g+ PL1314"></A><A NAME="tex2html10"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html11"
  HREF="http://www.ull.es/view/centros/etsii/Grado/es"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html12"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html13"
  HREF="https://github.com/crguezl"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="crguezl at github"></A>
<BR>
<B> Sig:</B> <A NAME="tex2html6202"
  HREF="node204.html">OmniAuth OAuth2 gem</A>
<B>Sup:</B> <A NAME="tex2html6196"
  HREF="node199.html">Google Oauth</A>
<B> Ant:</B> <A NAME="tex2html6190"
  HREF="node202.html">Using OAuth 2.0 to</A>
<B> Con:</B> 
<A NAME="tex2html6197"
  HREF="node214.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>
<B> Ind:</B> 
<A NAME="tex2html6199"
  HREF="node217.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A>
<BR> <P>
</DIV>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsecciones</STRONG></A>

<UL CLASS="ChildLinks">
<LI><UL>
<LI><UL>
<LI><A NAME="tex2html6203"
  HREF="node203.html#SECTION07440010000000000000">Getting Started</A>
</UL>
</UL>
<BR>
<LI><A NAME="tex2html6204"
  HREF="node203.html#SECTION07441000000000000000">Auth Hash Schema</A>
<LI><A NAME="tex2html6205"
  HREF="node203.html#SECTION07442000000000000000">Class: OmniAuth::AuthHash::InfoHash</A>
<UL>
<LI><A NAME="tex2html6206"
  HREF="node203.html#SECTION07442010000000000000">Schema (1.0 and Later)</A>
</UL></UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION07440000000000000000">
OmniAuth gem: Standardized Multi-Provider Authentication for Ruby</A>
</H1>

<P>

<UL>
<LI><A NAME="tex2html803"
  HREF="http://intridea.github.io/omniauth/">OmniAuth</A>
</LI>
</UL>

<P>
OmniAuth is a library that standardizes multi-provider authentication
for web applications. Any developer can create <A NAME="22460"></A><SPAN  CLASS="textbf">strategies</SPAN> for
OmniAuth that can
authenticate users via disparate systems. 

<P>
OmniAuth strategies have been created for everything from Facebook to LDAP.

<P>

<H4><A NAME="SECTION07440010000000000000">
Getting Started</A>
</H4>
  

<P>
To use OmniAuth in a project with a Gemfile, just add each of the

<FONT COLOR="#0000ff"> strategies</FONT> you want to use individually:

<P>
<PRE>
gem 'omniauth-github'
gem 'omniauth-openid'
</PRE>

<P>
Now you can use the <code>OmniAuth::Builder</code> 
Rack middleware 
<FONT COLOR="#0000ff"> to build up your
list of OmniAuth strategies for use in your application</FONT>:

<P>
<PRE>
use OmniAuth::Builder do
  provider:github, ENV['GITHUB_KEY'], ENV['GITHUB_SECRET']
  provider:openid, :store =&gt; OpenID::Store::Filesystem.new('/tmp')
end
</PRE>
By default, OmniAuth will return auth information to the path
<code>/auth/:provider/callback</code> inside the Rack environment. 

<P>
In Sinatra, for
example, a callback might look something like this:

<P>
<PRE>
# Support both GET and POST for callbacks
%w(get post).each do |method|
  send(method, "/auth/:provider/callback") do
    env['omniauth.auth'] # =&gt; OmniAuth::AuthHash
  end
end
</PRE>

<P>

<H2><A NAME="SECTION07441000000000000000">
Auth Hash Schema</A>
</H2>

<P>
<A NAME="tex2html804"
  HREF="https://github.com/intridea/omniauth/wiki/Auth-Hash-Schema">OmniAuth is a flexible authentication system utilizing Rack middleware.</A>
<P>
OmniAuth will always return a hash of information after authenticating
with an external provider in the Rack environment under the key
<code>omniauth.auth</code>. 

<P>
This information is meant to be as normalized as
possible, so the schema below will be filled to the greatest degree available given the provider upon authentication. Fields marked required will always be present. Note that this guide may also be
useful to developers implementing custom strategies to know how to provide results.

<P>

<H2><A NAME="SECTION07442000000000000000">
Class: OmniAuth::AuthHash::InfoHash</A>
</H2>
Esta clase contiene informaci√≥n sobre el usuario.

<P>
<A NAME="tex2html805"
  HREF="http://rubydoc.info/github/intridea/omniauth/master/OmniAuth/AuthHash/InfoHash">Class: OmniAuth::AuthHash::InfoHash</A>
<P>
<PRE>
@auth info = 
#&lt;OmniAuth::AuthHash::InfoHash
  email="fulano.apellido1.apellido2@gmail.com" 
  first_name="Fulano"
  image="https://lh111.googleusercontent.com/-zYiezVYENBo/BBBBBBBBBBI/BBBBBBBBbFs/jKVZrfPCT8c/photo.jpg"
  last_name="Apellido1-Apellido2" name="Fulano Apellido1-Apellido2" 
  urls=#&lt;OmniAuth::AuthHash Google="https://plus.google.com/+FulanoApellido1Apellido2"&gt;
&gt;
</PRE>

<P>

<H4><A NAME="SECTION07442010000000000000">
Schema (1.0 and Later)</A>
</H4>
  

<OL>
<LI><code>provider</code> (required) - The provider with which the user
authenticated (e.g. 'twitter' or 'facebook')
</LI>
<LI><code>uid</code> (required) - An identifier unique to the given provider, such as a Twitter user ID. Should be stored as a string.
</LI>
<LI><code>info</code> (required) - A hash containing information about the user
  
<OL>
<LI><code>name</code> (required) - The best display name known to the
    strategy. Usually a concatenation of first and last name, but may also
    be an arbitrary designator or nickname for some strategies
</LI>
<LI><code>email</code> - The e-mail of the authenticating user. Should
    be provided if at all possible (but some sites such as Twitter do not
    provide this information)
</LI>
<LI><code>nickname</code> - The username of an authenticating user (such
    as your <code>@-name</code> from Twitter or GitHub account name)
</LI>
<LI><code>first_name</code>
</LI>
<LI><code>last_name</code>
</LI>
<LI><code>location</code> - The general location of the user, usually a
    city and state.
</LI>
<LI><code>description</code> - A short description of the authenticating
    user.
</LI>
<LI><code>image</code> - A URL representing a profile image of the
    authenticating user. Where possible, should be specified to a square,
    roughly 50x50 pixel image.
    phone - The telephone number of the authenticating user (no formatting is enforced).
    urls - A hash containing key value pairs of an identifier for the website and its URL. For instance, an entry could be "Blog" =&gt; "http://intridea.com/blog"
  
</LI>
</OL>
</LI>
<LI><code>credentials</code> - If the authenticating service provides some kind of
access token or other credentials upon authentication, these are passed
through here.
</LI>
<LI><code>token</code> - Supplied by  <A NAME="tex2html806"
  HREF="http://oauth.net/">OAuth</A>
 and  <A NAME="tex2html807"
  HREF="http://oauth.net/">OAuth</A>
 2.0 providers, the access token.
</LI>
<LI><code>secret</code> - Supplied by  <A NAME="tex2html808"
  HREF="http://oauth.net/">OAuth</A>
 providers, the access token secret.
</LI>
<LI><code>extra</code> - Contains extra information returned from the authentication provider. May be in provider-specific formats.
</LI>
<LI><code>raw_info</code> - A hash of all information gathered about a user in the format it was gathered. For example, for Twitter users this is a hash representing the JSON hash returned from the Twitter API.
</LI>
</OL>

<P>

<DIV CLASS="navigation"><HR>
<A NAME="tex2html6201"
  HREF="node204.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html6195"
  HREF="node199.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html6189"
  HREF="node202.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html6197"
  HREF="node214.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html6199"
  HREF="node217.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html2"
  HREF="http://nereida.deioc.ull.es/~plgrado/index.html"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="logoLPP.png"
 ALT="PL"></A><A NAME="tex2html3"
  HREF="http://campusvirtual.ull.es/1314/course/view.php?id=1104"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="PL moodle"></A><A NAME="tex2html4"
  HREF="http://campusvirtual.ull.es/1213m2/course/view.php?id=271"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="PL moodle"></A><A NAME="tex2html5"
  HREF="javascriptexamples.pdf"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="ps"></A><A NAME="tex2html6"
  HREF="http://crguezl.github.io/pl-html/"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="ruby gems"></A><A NAME="tex2html7"
  HREF="https://developer.mozilla.org/es/docs/JavaScript"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html8"
  HREF="http://github.com"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="google-code-project-hosting.jpeg"
 ALT="github"></A><A NAME="tex2html9"
  HREF="https://plus.google.com/u/0/communities/107031495100582318205"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="perl6.jpg"
 ALT="comunidad g+ PL1314"></A><A NAME="tex2html10"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html11"
  HREF="http://www.ull.es/view/centros/etsii/Grado/es"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html12"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html13"
  HREF="https://github.com/crguezl"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="crguezl at github"></A>
<BR>
<B> Sig:</B> <A NAME="tex2html6202"
  HREF="node204.html">OmniAuth OAuth2 gem</A>
<B>Sup:</B> <A NAME="tex2html6196"
  HREF="node199.html">Google Oauth</A>
<B> Ant:</B> <A NAME="tex2html6190"
  HREF="node202.html">Using OAuth 2.0 to</A>
</DIV>
<!--End of Navigation Panel-->
<ADDRESS>
<I>Casiano Rodr√≠guez Le√≥n <BR>
2014-03-28</I>
</ADDRESS>
</BODY>
</HTML>
