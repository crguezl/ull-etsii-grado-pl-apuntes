<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Ejercicios: Casos de Estudio</TITLE>
<META NAME="description" CONTENT="Ejercicios: Casos de Estudio">
<META NAME="keywords" CONTENT="javascriptexamples">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="mystyle.css">

<LINK REL="next" HREF="node77.html">
<LINK REL="previous" HREF="node75.html">
<LINK REL="up" HREF="node59.html">
<LINK REL="next" HREF="node77.html">
</HEAD>

<BODY >

<DIV CLASS="navigation">
<A NAME="tex2html3786"
  HREF="node77.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html3780"
  HREF="node59.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html3774"
  HREF="node75.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html3782"
  HREF="node229.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html3784"
  HREF="node232.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html2"
  HREF="http://nereida.deioc.ull.es/~plgrado/index.html"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="logoLPP.png"
 ALT="PL"></A><A NAME="tex2html3"
  HREF="http://campusvirtual.ull.es/1314/course/view.php?id=1104"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="PL moodle"></A><A NAME="tex2html4"
  HREF="http://campusvirtual.ull.es/1213m2/course/view.php?id=271"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="PL moodle"></A><A NAME="tex2html5"
  HREF="javascriptexamples.pdf"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="ps"></A><A NAME="tex2html6"
  HREF="http://crguezl.github.io/pl-html/"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="ruby gems"></A><A NAME="tex2html7"
  HREF="https://developer.mozilla.org/es/docs/JavaScript"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html8"
  HREF="http://github.com"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="google-code-project-hosting.jpeg"
 ALT="github"></A><A NAME="tex2html9"
  HREF="https://plus.google.com/u/0/communities/107031495100582318205"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="perl6.jpg"
 ALT="comunidad g+ PL1314"></A><A NAME="tex2html10"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html11"
  HREF="http://www.ull.es/view/centros/etsii/Grado/es"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html12"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html13"
  HREF="https://github.com/crguezl"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="crguezl at github"></A>
<BR>
<B> Sig:</B> <A NAME="tex2html3787"
  HREF="node77.html">Recuperación de Errores</A>
<B>Sup:</B> <A NAME="tex2html3781"
  HREF="node59.html">Análisis Sintáctico Ascendente en</A>
<B> Ant:</B> <A NAME="tex2html3775"
  HREF="node75.html">Definición Dirigida por la</A>
<B> Con:</B> 
<A NAME="tex2html3782"
  HREF="node229.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>
<B> Ind:</B> 
<A NAME="tex2html3784"
  HREF="node232.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A>
<BR> <P>
</DIV>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsecciones</STRONG></A>

<UL CLASS="ChildLinks">
<LI><A NAME="tex2html3788"
  HREF="node76.html#SECTION047171000000000000000">Un mal diseño</A>
<UL>
<LI><A NAME="tex2html3789"
  HREF="node76.html#SECTION047171010000000000000">Donde</A>
</UL>
<BR>
<LI><A NAME="tex2html3790"
  HREF="node76.html#SECTION047172000000000000000">Gramática no LR(1)</A>
<UL>
<LI><A NAME="tex2html3791"
  HREF="node76.html#SECTION047172010000000000000">Donde</A>
</UL>
<BR>
<LI><A NAME="tex2html3792"
  HREF="node76.html#SECTION047173000000000000000">Un Lenguaje Intrínsecamente Ambiguo</A>
<UL>
<LI><A NAME="tex2html3793"
  HREF="node76.html#SECTION047173010000000000000">Donde</A>
</UL>
<BR>
<LI><A NAME="tex2html3794"
  HREF="node76.html#SECTION047174000000000000000">Conflicto reduce-reduce</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION047170000000000000000">
Ejercicios: Casos de Estudio</A>
</H1>
Véase nuestro proyecto
<A NAME="tex2html479"
  HREF="https://code.google.com/p/grammar-repository/">Grammar Repository</A>
en GoogleCode.

<P>

<H2><A NAME="SECTION047171000000000000000">
Un mal diseño</A>
</H2>
<P>
<DIV><B>Ejercicio  <SPAN CLASS="arabic">7</SPAN>.<SPAN CLASS="arabic">17</SPAN>.<SPAN CLASS="arabic">1</SPAN></B> &nbsp; 
<I>This grammar 
</I>
<P><PRE>
  %token D S

  %%
  p: ds ';' ss  | ss ;
  ds: D ';' ds    
    | D  
  ;
  ss: S ';' ss  | S  ;
  %% 
</PRE>
<P>
<I>illustrates a typical LALR conflict due to a 
bad grammar design. 
</I>
<UL>
<LI>Reescriba la gramática para que no existan conflictos
</LI>
<LI>Escriba las acciones semánticas necesarias para imprimir la lista de <code>D</code>s seguida de la lista de <code>S</code>s
</LI>
</UL></DIV><P></P>

<P>

<H4><A NAME="SECTION047171010000000000000">
Donde</A>
</H4>
  

<UL>
<LI><PRE>
[~/jison/jison-decs-sts(master)]$ pwd -P
/Users/casiano/local/src/javascript/PLgrado/jison/jison-decs-sts
</PRE>
</LI>
<LI><PRE>
[~/jison/jison-decs-sts(master)]$ git remote -v
origin  git@github.com:crguezl/jison-decs-sts.git (fetch)
origin  git@github.com:crguezl/jison-decs-sts.git (push)
</PRE>
</LI>
<LI><A NAME="tex2html480"
  HREF="https://github.com/crguezl/jison-decs-sts">https://github.com/crguezl/jison-decs-sts</A>
</LI>
</UL>

<P>

<H2><A NAME="SECTION047172000000000000000">
Gramática no LR(1)</A>
</H2>

<P>
La siguiente gramática no es LR(1).
<PRE>
[~/srcPLgrado/jison/jison-nolr]$ cat confusingsolvedppcr.y
%%
A: 
    B 'c' 'd' 
  | E 'c' 'f' 
;
B: 
    'x' 'y'
;
E: 
    'x' 'y' 
;

%%
</PRE>
Encuentre una gramática sin conflictos equivalente a la anterior.

<P>

<H4><A NAME="SECTION047172010000000000000">
Donde</A>
</H4>
  

<P>

<UL>
<LI><PRE>
[~/jison/jison-nolr(master)]$ pwd -P
/Users/casiano/local/src/javascript/PLgrado/jison/jison-nolr
</PRE>
</LI>
<LI><PRE>
[~/jison/jison-nolr(master)]$ git remote -v
origin  git@github.com:crguezl/jison-nolr.git (fetch)
origin  git@github.com:crguezl/jison-nolr.git (push)
</PRE>
</LI>
<LI><A NAME="tex2html481"
  HREF="https://github.com/crguezl/jison-nolr">https://github.com/crguezl/jison-nolr</A>
</LI>
</UL>

<P>

<H2><A NAME="SECTION047173000000000000000">
Un Lenguaje Intrínsecamente Ambiguo</A>
</H2>
<P>
<DIV><B>Ejercicio  <SPAN CLASS="arabic">7</SPAN>.<SPAN CLASS="arabic">17</SPAN>.<SPAN CLASS="arabic">2</SPAN></B> &nbsp; 
<I>A context-free language is inherently ambiguous if all context-free
grammars generating that language are ambiguous.  While some
context-free languages  have both ambiguous and unambiguous grammars, there
are context-free languages for which no unambiguous context-free
grammar can exist. An example of an inherently ambiguous language
is the set 
</I>
<P>
<I><code>{ a^n b^n c^m : n &gt;= 0, m &gt;= 0 } U { a^n b^m c^m : n &gt;= 0, m &gt;= 0 }</code>
</I>
<P>
<I>Esto  es: Concatenaciones de repeticiones 
de <code>a</code>s seguidas de repeticiones de <code>b</code>s y seguidas de
repeticiones de <code>c</code>s donde el número
de <code>a</code>s es igual al número de <code>b</code>s
o bien el número de <code>b</code>s es igual al número de <code>c</code>s.
</I>
<P>
<UL>
<LI>Escriba una gramática que genere dicho lenguaje

<P>
<PRE>
  s: aeqb | beqc ;
  aeqb: ab cs ;
  ab: /* empty */ | 'a' ab 'b' ;
  cs: /* empty */ | cs 'c' ;
  beqc: as bc ;
  bc: /* empty */ | 'b' bc 'c' ;
  as: /* empty */ | as 'a' ;
</PRE>

<P>
The symbol <code>aeqb</code> correspond to guess that there are the same number
of <code>a</code>s than <code>b</code>s.  In the same way, <code>beqc</code> starts the subgrammar
for those phrases where the number of <code>b</code>s is equal to the number
of <code>c</code>s. The usual approach to eliminate the ambiguity by changing
the grammar to an unambiguous one does not work.

<P>
</LI>
<LI>Escriba un programa Jison que reconozca este lenguaje.
</LI>
</UL></DIV><P></P>

<P>

<H4><A NAME="SECTION047173010000000000000">
Donde</A>
</H4>
  

<P>

<UL>
<LI><PRE>
[~/jison/jison-ambiguouslanguage(master)]$ pwd -P
/Users/casiano/local/src/javascript/PLgrado/jison/jison-ambiguouslanguage
</PRE>
</LI>
<LI><PRE>
[~/jison/jison-ambiguouslanguage(master)]$ git remote -v
origin  git@github.com:crguezl/jison-ambiguouslanguage.git (fetch)
origin  git@github.com:crguezl/jison-ambiguouslanguage.git (push)
</PRE>
</LI>
<LI><A NAME="tex2html482"
  HREF="https://github.com/crguezl/jison-ambiguouslanguage">https://github.com/crguezl/jison-ambiguouslanguage</A>
</LI>
</UL>

<P>

<H2><A NAME="SECTION047174000000000000000">
Conflicto reduce-reduce</A>
</H2>
La siguiente gramática presenta conflictos reduce-reduce:
<P>
<DIV><B>Ejercicio  <SPAN CLASS="arabic">7</SPAN>.<SPAN CLASS="arabic">17</SPAN>.<SPAN CLASS="arabic">3</SPAN></B> &nbsp; <PRE>
[~/srcPLgrado/jison/jison-reducereduceconflict]$ cat reducereduceconflictPPCR2.y
%token ID

%%

def:    param_spec return_spec ','
        ;
param_spec:
             type
        |    name_list ':' type
        ;
return_spec:
             type
        |    name ':' type
        ;
type:        
             ID
        ;
name:        
             ID 
        ;
name_list:
             name
        |    name ',' name_list
        ;
%%
</PRE><I>
Este es el diagnóstico de Jison:
</I><PRE>
~/srcPLgrado/jison/jison-reducereduceconflict]$ jison reducereduceconflictPPCR2.y
Conflict in grammar: multiple actions possible when lookahead token is ID in state 5
- reduce by rule: name -&gt; ID
- reduce by rule: type -&gt; ID
Conflict in grammar: multiple actions possible when lookahead token is : in state 5
- reduce by rule: name -&gt; ID
- reduce by rule: type -&gt; ID
Conflict in grammar: multiple actions possible when lookahead token is , in state 5
- reduce by rule: name -&gt; ID
- reduce by rule: type -&gt; ID

States with conflicts:
State 5
  type -&gt; ID . #lookaheads= ID : ,
  name -&gt; ID . #lookaheads= ID : ,
</PRE><I>
Encuentre una gramática equivalente a la anterior sin conflictos.</I></DIV><P></P>

<P>
Véase
<A NAME="tex2html483"
  HREF="http://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_node/Mystery-Conflicts.html">Mysterious Reduce/Reduce Conflicts</A>
<P>
When the problem arises, you can often fix it by identifying the two parser states that are being confused, and adding something to make them look distinct. In the above example, adding one rule to <code>return_spec</code> as follows makes the problem go away: 

<P>
<PRE>
%token BOGUS
...
%%
...
return_spec:
             type
        |    name ':' type
        /* This rule is never used.  */
        |    ID BOGUS
        ;
</PRE>
This corrects the problem because it introduces the possibility of an additional active rule in the context after the ID at the beginning of <code>return_spec</code>. This rule is not active in the corresponding context in a <code>param_spec</code>, so the two contexts receive distinct parser states. As long as the token BOGUS is never generated by yylex, the added rule cannot alter the way actual input is parsed.

<P>
In this particular example, there is another way to solve the problem: rewrite the rule for <code>return_spec</code> to use ID directly instead of via name. This also causes the two confusing contexts to have different sets of active rules, because the one for <code>return_spec</code> activates the altered rule for <code>return_spec</code> rather than the one for name. 

<P>
<PRE>
param_spec:
             type
        |    name_list ':' type
        ;
return_spec:
             type
        |    ID ':' type
        ;
</PRE>

<P>

<DIV CLASS="navigation"><HR>
<A NAME="tex2html3786"
  HREF="node77.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html3780"
  HREF="node59.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html3774"
  HREF="node75.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html3782"
  HREF="node229.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html3784"
  HREF="node232.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html2"
  HREF="http://nereida.deioc.ull.es/~plgrado/index.html"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="logoLPP.png"
 ALT="PL"></A><A NAME="tex2html3"
  HREF="http://campusvirtual.ull.es/1314/course/view.php?id=1104"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="PL moodle"></A><A NAME="tex2html4"
  HREF="http://campusvirtual.ull.es/1213m2/course/view.php?id=271"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="PL moodle"></A><A NAME="tex2html5"
  HREF="javascriptexamples.pdf"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="ps"></A><A NAME="tex2html6"
  HREF="http://crguezl.github.io/pl-html/"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="ruby gems"></A><A NAME="tex2html7"
  HREF="https://developer.mozilla.org/es/docs/JavaScript"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html8"
  HREF="http://github.com"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="google-code-project-hosting.jpeg"
 ALT="github"></A><A NAME="tex2html9"
  HREF="https://plus.google.com/u/0/communities/107031495100582318205"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="perl6.jpg"
 ALT="comunidad g+ PL1314"></A><A NAME="tex2html10"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html11"
  HREF="http://www.ull.es/view/centros/etsii/Grado/es"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html12"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html13"
  HREF="https://github.com/crguezl"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="crguezl at github"></A>
<BR>
<B> Sig:</B> <A NAME="tex2html3787"
  HREF="node77.html">Recuperación de Errores</A>
<B>Sup:</B> <A NAME="tex2html3781"
  HREF="node59.html">Análisis Sintáctico Ascendente en</A>
<B> Ant:</B> <A NAME="tex2html3775"
  HREF="node75.html">Definición Dirigida por la</A>
</DIV>
<!--End of Navigation Panel-->
<ADDRESS>
<I>Casiano Rodríguez León <BR>
2014-05-06</I>
</ADDRESS>
</BODY>
</HTML>
